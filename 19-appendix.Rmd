\cleardoublepage 

# (APPENDIX) 附录 {-}

```{r setup, include = FALSE}
source("common.R")
```

# Python 绘图

## matplotlib

```python
# sudo apt-get install python-tk
# pip install numpy matplotlib
import numpy as np
import matplotlib.pyplot as plt
t = np.arange(0.0, 2.0, 0.01)
s = np.sin(2*np.pi*t)

plt.plot(t,s)
plt.title(r'$\alpha_i > \beta_i$', fontsize=20)
plt.text(1, -0.6, r'$\sum_{i=0}^\infty x_i$', fontsize=20)
plt.text(0.6, 0.6, r'$\mathcal{A}\mathrm{sin}(2 \omega t)$',
         fontsize=20)
plt.xlabel('time (s)')
plt.ylabel('volts (mV)')

plt.savefig('math-in-plot.png', bbox_inches='tight',dpi=300)
plt.savefig('math-in-plot.pdf', bbox_inches='tight')
```

- dpi 分辨率，越大图像越清晰，对矢量图形无效
- bbox\_inches 去除图形周边空白区域

默认使用 STIX 数学字体 和 DejaVu Sans 英文字体，如图 \@ref(fig:python-matplotlib)

```{r python-matplotlib, echo = FALSE, fig.cap = "图里的数学公式"}
knitr::include_graphics(path = paste0("figures/math-in-plot", if(knitr::is_latex_output()) ".pdf" else ".png"))
```


# 编译 C++ 文件

如何充分利用 Rcpp 包

# Git


- Using Git and GitHub with R, Rstudio, and R Markdown <https://github.com/jennybc/happy-git-with-r>



# R 历史


# 网站资源

## 主页 {#homepage}

- [Eugene Joh 的博客](https://incidental-ideas.org/)
- [Ilya Kashnitsky 的博客](https://ikashnitsky.github.io/)
- [Max Woolf 的博客](http://minimaxir.com/)
- [Yan Holtz 的 ggplot2 图库](https://www.r-graph-gallery.com/)
- [Jianghao Wang (王江浩)](https://jianghao.github.io)
- [Xinpeng Chen](https://chenxinpeng.github.io/)
- [Arthur Charpentier](https://freakonometrics.github.io) 法语 精算 or [Arthur Charpentier](https://freakonometrics.hypotheses.org)

- [Yihui Xie](https://yihui.name/)
- [Beilei Bian](http://statsjoke.me)
- [Miao Yu](https://yufree.cn/)
- [Ce Gao](http://gaocegege.com/Blog/)
- [Lchiffon](http://langdawei.com/)
- [Nan Xiao](https://nanx.me/)
- [Xuening Zhu](https://xueningzhu.github.io/)
- [Guangchuang YU](https://guangchuangyu.github.io/)
- [Qiang Kou](http://qkou.info/)
- [Yixuan Qiu-cn](https://yixuan.cos.name/cn/) or [Yixuan Qiu-en](https://statr.me/)
- [Tao Gao](https://joegaotao.github.io/)
- [Xunmo Yang](https://tcya.xyz/)
- [Yalei Du](http://yalei.name/)
- [Junchen Feng](http://www.fengjunchen.com/)
- [Sizhe Liu](http://www.bjt.name/)
- [Liyun Chen](http://www.loyhome.com/)

## 博客 {#blogger}

- [利用 R 和 OpenCPU 搭建高可用的 HTTP 服务](http://www.bjt.name/2017/04/opencpu-application)
- [Nearest Neighbor Gaussian Processes (NNGP) based models](https://github.com/LuZhangstat/NNGP_STAN) and [Case study: NNGP based models in Stan](http://mc-stan.org/users/documentation/case-studies/nngp.html)
- [Spatial Models in Stan: Intrinsic Auto-Regressive Models for Areal Data](http://mc-stan.org/users/documentation/case-studies/icar_stan.html) 空间模型之 Stan 实现 [slides](https://github.com/stan-dev/stancon_talks/blob/master/2018/Invited-Talks/Morris.pdf)
- [Easily Make Multi-tabbed .xlsx Files with openxlsx](https://trinkerrstuff.wordpress.com/2018/02/14/easily-make-multi-tabbed-xlsx-files-with-openxlsx/) Map 函数
- [Deep learning at rstudio::conf 2018](https://rviews.rstudio.com/2018/02/14/deep-learning-rstudio-conf-2018/) 深度学习与R语言,J.J.作为 RStudio 的 CEO 推动 tensorflow 在 R 中的使用，两个幻灯片值得好好看，J.J. 介绍 tensorflow Javier Luraschi介绍tf的部署
- netlify travis-ci blog 搭建 blogdown <https://bookdown.org/yihui/blogdown>
- [An Introduction to Spatial Econometrics in R](http://www.econ.uiuc.edu/~lab/workshop/Spatial_in_R.html) spatial econometric analysis 空间经济分析 可考虑翻译一下 <https://ignaciomsarmiento.github.io/2017/02/07/An-Introduction-to-Spatial-Econometrics-in-R>
- [Data Visualization Shiny Apps](https://ignaciomsarmiento.github.io/software.html) 数据可视化核密度估计 In this app I identify crime hotspots using a bivariate density estimation strategy
- [Putting the Macron in Māori: Accented text in R Graphics](https://www.stat.auckland.ac.nz/~paul/Reports/maori/maori.html) Paul Murrell 图形中嵌入重音字符
- [color in plot](https://www.stat.auckland.ac.nz/~paul/Talks/colour.pdf) Paul Murrell 配色
- [Using Computer Modern Fonts in R Graphics](https://www.stat.auckland.ac.nz/~paul/R/CM/CMR.html) Paul Murrell 图形中嵌入数学字体
- [Lattice Graphics](https://www.stat.auckland.ac.nz/~paul/Talks/dsc2001.pdf) Paul Murrell 介绍 Lattice Graphics
- [Association of Statisticians of American Religious Bodies (ASARB) viridis USA map](http://www.rpubs.com/cgarey/ProjectOneFinal)
- [Mapping unemployment data](http://sharpsightlabs.com/blog/map-unemployment-nov-2016/)
- [when-will-evolution-outperform-local-search](https://blog.evorithmics.org/2016/01/31/when-will-evolution-outperform-local-search/) 进化何时跑赢局部搜索 爱可可爱生活--进化如何跑赢局部搜索
- [Game of Thrones network analysis](https://shirinsplayground.netlify.com/2018/03/got_network/) 权利的游戏 网络

- [The R-INLA project and Bayesian computing with INLA](http://www.r-inla.org/)
- [Geographic Data Science in Python](https://data.cdrc.ac.uk/dataset/geographic-data-science-in-python)
- [Spatial](https://data.cdrc.ac.uk/)
- [r-spatial](https://www.r-spatial.org/)

## 书单 {#books}

- [Pro Git 中文第二版](https://git-scm.com/book/zh/v2) Scott Chacon, Ben Straub 著
- [Advanced R 第二版](https://adv-r.hadley.nz/) Hadley Wickham 著
- [Geocomputation with R](https://geocompr.robinlovelace.net/) Robin Lovelace, Jakub Nowosad, Jannes Muenchow 著
- [R Markdown: The Definitive Guide](https://bookdown.org/yihui/rmarkdown/) Yihui Xie, J. J. Allaire, Garrett Grolemund 著
- [bookdown: Authoring Books and Technical Documents with R Markdown](https://bookdown.org/yihui/bookdown/) Yihui Xie 著
- [blogdown: Creating Websites with R Markdown](https://bookdown.org/yihui/blogdown/) Yihui Xie, Amber Thomas, Alison Presmanes Hill 著
- [R: A Language and Environment for Statistical Computing](https://xiangyun.netlify.com/pdf/refman.pdf) The R Core Team 著
- [LaTeX2e unofficial reference manual](http://tug.ctan.org/tex-archive/info/latex2e-help-texinfo/latex2e.html) [pdf 版](https://xiangyun.netlify.com/pdf/latex2e.pdf)

设个目标，锻炼一下编码能力，关于统计计算和可视化尽可能提供两个方案，至少包含基础 R 包的实现

```{r base-r}
Pkgs <- sapply(list.files(R.home("library")), function(x)
  packageDescription(pkg = x, fields = "Priority"))
names(Pkgs[Pkgs == "base" & !is.na(Pkgs)])
```



# 数学符号说明 {#notations}

- $\mathcal{S,P,G}$
- $S \not= \varnothing$
- $\mathbb{R,C},\mathscr{P,F,D,A,B,C}$
- $\mathbf{A,B,C},\mathsf{A,B,C},\mathit{A,B,C}$
- $\mathrm{A,B,C}$ 
- $\mathfrak{A,B,C}$

# 其他软件信息 {#detail}

## Octave

安装新版 Octave，详情请见 <https://wiki.octave.org/Octave_for_Debian_systems>

```bash
sudo apt-add-repository ppa:octave/stable
sudo apt-get update
sudo apt-get install octave
```

```{r}
Sys.which("octave")
system("octave --version")
```

```{bash}
octave --version
```

## Python

Python 版本和位置

```{r}
Sys.which("python")
system("python --version")
```

```{bash}
python --version
```

升级 Python

```bash
sudo add-apt-repository ppa:fkrull/deadsnakes-python2.7  
sudo apt-get update  
sudo apt-get upgrade  
```

可用的 python 模块

```{python}
help('modules')
```

## LaTeX 

列出 tex 版本及其他信息

```{bash}
pdftex -v
```

```{bash}
bibtex -v
```

```{bash}
xetex -v
```

安装的中英文字体

```{bash}
# 中文字体
fc-list :lang=zh-cn | sort
```

```{bash}
# 英文字体
fc-list :lang=en-us | sort
```

已经安装 TeX 包

```{bash}
tlmgr list --only-installed
```

## pandoc

pandoc 在 R Markdown 中是否可用

```{r}
rmarkdown::pandoc_available()
```

pandoc 版本

```{r}
Sys.which("pandoc")
system("pandoc -v")
```

```{bash}
pandoc -v
```

## rtools

rtools 是否可用

```{r}
devtools::find_rtools()
```

算个小栗子

```{r rtools}
fx <- inline::cxxfunction( signature(x = "integer", y = "numeric" ) , '
	return ScalarReal( INTEGER(x)[0] * REAL(y)[0] ) ;
' )
fx( 2L, 5 ) 
```


## R

列出已经安装的 r 包

```{r}
.packages(TRUE)
```

R 包及其版本信息

```{r}
devtools::session_info(installed.packages()[, "Package"])
```

可用的图形设备

```{r}
capabilities()
```

其他软件信息

```{r}
extSoftVersion()
```

pdf 设备可用的字体信息

```{r}
names(pdfFonts())
```


> 此节附录最后可以删掉
