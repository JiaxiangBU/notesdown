# Python 绘图

## matplotlib

```python
# sudo apt-get install python-tk
# pip install numpy matplotlib
import numpy as np
import matplotlib.pyplot as plt
t = np.arange(0.0, 2.0, 0.01)
s = np.sin(2*np.pi*t)

plt.plot(t,s)
plt.title(r'$\alpha_i > \beta_i$', fontsize=20)
plt.text(1, -0.6, r'$\sum_{i=0}^\infty x_i$', fontsize=20)
plt.text(0.6, 0.6, r'$\mathcal{A}\mathrm{sin}(2 \omega t)$',
         fontsize=20)
plt.xlabel('time (s)')
plt.ylabel('volts (mV)')

plt.savefig('math-in-plot.png', bbox_inches='tight',dpi=300)
plt.savefig('math-in-plot.pdf', bbox_inches='tight')
```

- dpi 分辨率，越大图像越清晰，对矢量图形无效
- bbox\_inches 去除图形周边空白区域


默认使用 [STIX 数学字体](http://www.stixfonts.org/) 和 DejaVu Sans 英文字体，如图 \@ref(fig:python-matplotlib)

```{r python-matplotlib, echo = FALSE, fig.cap = "图里的数学公式"}
knitr::include_graphics(path = paste0("figures/math-in-plot", if(knitr::is_latex_output()) ".pdf" else ".png"))
```

需要用 gs 嵌入字体才可以

```bash
# Needed only on Windows - run once per R session
# Adjust the path to match your installation of Ghostscript
Sys.setenv(R_GSCMD = "C:/Program Files/gs/gs9.23/bin/gswin64c.exe")
embedFonts(file="math-in-plot.pdf",outfile="math-in-plot-embed.pdf")
```
